<!DOCTYPE html>
<html>
    <head>
        <title> None </title>
        <meta name = "viewport", content = "width = device-width">
        <meta charset = "utf-8">
        <style>
            button{
                width: 80%;
                height: 50px;
                border-radius: 40px;
            }

            p{
                text-align: left;
            }
        </style>
        <script>
            speed = 100
            quests = ["Последние дни"]

            function change_speed(s){
                if(speed > 10 && speed < 200 || speed == 10 && s > 0 || s < 0 && speed == 200){
                    speed += s
                    document.getElementById("start").querySelector("p").innerHTML = "Скорость печатания: <br>" + String(Math.round(1000 / speed)) + " символов в секунду."
                }

                else{alert("Ошибка")}
            }

            function all_quests(){
            alert("После выбора сохранения будут сброшены.")
                document.getElementById("start").style.display = "None"
                document.getElementById("top").innerHTML = ""

                for(i = 0; i < quests.length; i++){
                    document.getElementById("top").innerHTML += `<button onclick = "change('top', '` + String(i) + `')"> ` + quests[i] + ` </button> <br> <br>`
                }

                document.getElementById("top").innerHTML += `<button onclick = 'document.getElementById("start").style.display = ""; document.getElementById("top").style.display = "None"'> Вернуться обратно </button>`
            }

            function change_theme(){
                if(document.querySelector("body").style.color == "black"){document.querySelector("body").style = "background-color: black; color: white;"}

                else{document.querySelector("body").style = "background-color: white; color: black;"}
            }

            function write(id, i, text){
                if(i < text.length){
                    if(text[i] != "<"){
                        document.getElementById(id).querySelector('p').innerHTML += text[i]
                        i += 1
                    }

                    else{
                        document.getElementById(id).querySelector('p').innerHTML += "<br>"
                        i += 4
                    }

                    setTimeout(write, speed, id, i, text)
                }

                else{document.getElementById(id).querySelector('div').style.display = ''}
            }

            function change(id, new_id){
                document.getElementById(new_id).innerHTML = `<span style = "position: relative; color: green;"> <br> <h2> ` + quests[parseInt(new_id[0])] + ` </h2> </span>` + document.getElementById(new_id).innerHTML
                text = document.getElementById(new_id).querySelector('p').innerHTML
                document.getElementById(new_id).querySelector('p').innerHTML = ''
                i = 0

                document.getElementById(id).style.display = "None"
                document.getElementById(new_id).querySelector('div').style.display = "None"
                document.getElementById(new_id).style.display = ""

                localStorage.setItem('progress', new_id)

                write(new_id, i, text)
            }

        </script>
    </head>
    <body align = "center", style = "background-color: white; color: black;">
<!--
        ###########Start###########
-->
        <div id = "start">
            <button onclick = "all_quests()"> Начать новый квест </button> <br> <br>
            <button onclick = "change('start', localStorage.getItem('progress'))"> Последнее сохранение </button> <br> <br>

            <button onclick = "change_theme()"> Сменить тему </button> <br> <br>

            <button onclick = "change_speed(-10)"> Увеличить скорость печатания </button> <br> <br>

            <button onclick = "change_speed(10)"> Уменьшить скорость печатания </button>

            <p style = "text-align: right;"> Скорость печатания:<br>10 символов в секунду. </p>
            <a href = "https://t.me/joinchat/ndI8mTgV8xM3OWIy" style = "position: absolute; right: 10px; bottom: 10px; color: green"> Обновления и последние новости. </a> 
        </div>

        <div id = "top"></div>

        <div id = "0" style = "display: None;">
            <p>На улице стоял теплый вечер. Все было спокойно, пока резко не завила сирена. Причина тревоги не была упомянута, но со слов было ясно, что нужно как можно быстрее явиться в убежище. <br> <br>
Видимо, что-то серьезное, ведь вряд ли бы тогда просили взять с собой вещи первой необходимости.</p>

            <div>
                <button onclick = "change('0', '0-1')"> Остаться </button> <br> <br>
                <button onclick = "change('0', '0-2')"> Собрать вещи </button>
            </div>
        </div>

        <div id = "0-2", style = "display: None;">
            <p> [In relise] </p>

            <div>

            </div>
        </div>

        <div id = "0-1", style = "display: None;">
            <p> Остаться здесь было хорошей идеей, но... Что если реально что-то случилось?.. Что-то, что может убить... <br> <br>
Девушка тихо вздохнула и посмотрела на часы, только шесть, но на улице уже мрак...<br> <br>
В любом случае, лучше будет завтра утром на автобусе доехать, нежели сейчас пешком. Да и убежище не близко... <br> <br>
"Хм...", – задумалась девушка. <br> <br>
"Нет... Останусь или нет, лучше, наверное, будет обезопасить дом...".</p>

            <div>
                <button onclick = "change('0-1', '0-3')"> Заблокировать входы </button> <br> <br>
                <button onclick = "change('0-1', '0-4')"> Лишняя трата сил </button>
            </div>
        </div>

        <div id = "0-3", style = "display: None;">
            <p>Идея хорошая, но в осуществлении достаточно сложная... Девушка давно жила одна, да и в плане физической силы была не очень. Поэтому передвинуть шкаф или тумбочку было плчти что нереально.<br><br>
Девушка лишь тихо вздохнула и прошлась взглядом по комнате в поиске выхода, который, к счастью, быстро нашёлся.<br><br>
Так как двери отрывались во внутреннюю сторону, девушка прибила к ним доски. Правда, без легких ушибов не обошлось, но это лучше чем возможная угроза снаружи.<br><br>
Касательно окон... После небольших раздумий девушка все же решила закрыть их небольшими железными пластинами, которые лежали в подвале еще с прошлого ремонта.<br><br>
Не часто приходилось подымать подобной вес, но он явно легче шкафа... С облегчением девушка села на диван и подняла взгляд на включенную лампочку.<br><br>
"Может... Простые учения и я зря страдаю подобным?.. Как бы там ни было, утром уж точно узнаю...", – устало задумалась девушка и осмотрела комнату.</p>

            <div>
                <button onclick = "change('0-3', '0-5')"> Уснуть на диване </button> <br> <br>
                <button onclick = "change('0-3', '0-5')"> "В подвале, вроде, должен быть старый диван, может там?.." </button>
            </div>
        </div>

        <div id = "0-5", style = "display: None;">
            <p>Сам факт того, что что-то могло случится достаточно сильно пугал, из-за чего было сложно сомкнуть глаза. Каждый скрип, капли начинающегося дождя, все это пробирало до дрожи.<br><br>
Комната, в которой находилась девушка была хорошо отопленой, но волнение заставило ее достать одеяло и закутаться в него.<br><br>
В комнате было непривычно темно, девушка не могла видеть даже очертания своей руки.<br><br>
Вот только даже двухдневное недосыпание хорошо давало о себе знать. Веки медленно сомкнулись, а сознание плавно начало погружаться в сон.<br><br>
Тихий стук.<br><br>
Сначала девушка решила, что это была часть еще неуспевшего взять над ней полную власть сна, но стоило ей услышать дрожащий голос знакомой, как все тело занимело, вплоть до остановившегося на мгновение дыхания.<br><br>
– Мия. Ты тут?.. – снова послышался все также дрожащий, но уже более громкий голос.</p>

            <div>
                <button onclick = "change('0-5', '0-7')"> Нельзя открывать двери, это опасно </button> <br> <br>
                <button onclick = "change('0-5', '0-7')"> Нельзя ее оставлять там... Все же, они знакомы друг с другом... </button>
            </div>
        </div>

        <div id = "0-7", style = "display: None;">
            <p>Тело девушки пробрало до дрожи. Ей еще никогда так страшно не было.<br><br>
С одной стороны она желала пустить ее, так как они были знакомы уже долгое время, хоть и не очень часто общались, но с другой стороны, Мия ощущала, что здесь было что-то не так... Ее голос... Она редко бывала в подобном состоянии...<br><br>
– Вот и славно. – посляшался грубый мужской голос, вслед за которым раздался громкий и оглушительный выстрел.<br><br>
Буквально за мгновение двери были снесены, даже доски были безсильны.<br><br>
Девушка лишь сильнее сжалась. Ее взгляд был прикован к сиулетам входящих людей, один из которых был хорошо знаком Мие... Скорее всего, ее взяли в плен...<br><br>
От страха Мия забыла даже как дышать. К счастью, одеяло полностью скрывало ее, что было, в основном, благодаря тьме.<br><br>
– Найдите включатели. Она может быть здесь. – тот же грубый голос.<br><br>
Видимо, у них не было никаких источников света, что было наруку девушке. Так как они сейчас нацелены больше на поиск света, нежели ее, что и позволило увидеть девушке проходящие мимо нее силуэты.<br><br>
Раздался громкий грохот, скорее всего, выбили дверь в подвал.<br><br>
Рядом была кухня, что, видимо, было единственным шансом девушки на спасение. Ее жизнь держалась на секундах... Как только появится свет, они найдут девушку... Единственное ее преимущество – знание этого дома и близость к дверям...</p>

            <div>
                <button onclick = "change('0-7', '0-9')"> Добыть холодное оружие </button> <br> <br>
                <button onclick = "change('0-7', '0-10')"> Сбежать </button>
            </div>
        </div>
    </body>
</html>
